<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FHSUMOVIETHEATER</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="payment-style.css">
    <link rel="stylesheet" href="seats.css">
</head>
<body>

<!-- Navigation Bar -->
<header class="navbar">
    <div class="logo">FHSUMOVIETHEATER</div>
    <nav class="nav-links">
        <a href="index.html">Home</a>
        <a href="#">Now Showing</a>
        <a href="#">Coming Soon</a>
        <a href="#">Tickets</a>
        <a href="#">Contact</a>

        <form class="search" role="search" action="#" method="get">
            <label class="visually-hidden" for="q">Search movies</label>
            <input id="q" name="q" type="search" placeholder="Search movies…" autocomplete="off" />
            <button type="submit">Search</button>
        </form>
    </nav>
</header>

<!-- Seats -->
<section class="seat-section">
    <h2>Select Your Seats</h2>
    <div class="screen"></div>
    <div class="seat-grid"></div>
        <!-- 5x5 grid of seats -->
        <button class="seat" data-seat="A1">A1</button>
        <button class="seat" data-seat="A2">A2</button>
        <button class="seat" data-seat="A3">A3</button>
        <button class="seat" data-seat="A4">A4</button>
        <button class="seat" data-seat="A5">A5</button>

        <button class="seat" data-seat="B1">B1</button>
        <button class="seat" data-seat="B2">B2</button>
        <button class="seat" data-seat="B3">B3</button>
        <button class="seat" data-seat="B4">B4</button>
        <button class="seat" data-seat="B5">B5</button>

        <button class="seat" data-seat="C1">C1</button>
        <button class="seat" data-seat="C2">C2</button>
        <button class="seat" data-seat="C3">C3</button>
        <button class="seat" data-seat="C4">C4</button>
        <button class="seat" data-seat="C5">C5</button>

        <button class="seat" data-seat="D1">D1</button>
        <button class="seat" data-seat="D2">D2</button>
        <button class="seat" data-seat="D3">D3</button>
        <button class="seat" data-seat="D4">D4</button>
        <button class="seat" data-seat="D5">D5</button>

        <button class="seat" data-seat="E1">E1</button>
        <button class="seat" data-seat="E2">E2</button>
        <button class="seat" data-seat="E3">E3</button>
        <button class="seat" data-seat="E4">E4</button>
        <button class="seat" data-seat="E5">E5</button>
    <p id ="selected-seats">Selected Seats: None</p>
    <button id="continue-btn">Continue to Payment</button>
</section>

<!-- Form -->
 <div id="pay">
    <h2>Payment Information</h2>
    <form action="payment-confirmation.html" method="get" id="payment-form">
        <label for="fullname" id="name-label">Name:</label>
        <input type="text" id="fullname" name="fullname" value="" required>

        <label for="cardnum" id="card-label">Card Number:</label>
        <input type="tel" id="cardnum" name="cardnum" pattern="[0-9]{16}" maxlength="16" required>

        <h3 id="exp">Expiration Date</h3>

        <label for="month" id="month-label">Month</label>
        <label for="year" id="year-label">Year</label>
        <input type="text" list="months" id="month" name="month" size="3" required>
        <input type="text" list="years" id="year" name="year" size="3" required>

        <label for="cvv" id="cvv-label">CVV:</label> <br>
        <input type="text" id="cvv" name="cvv" required>

        <h3 id="bill-header">Billing Address</h3>

        <label for="street" id="street-label">Street Address:</label>
        <input type="text" id="street" name="street" required>

        <label for="city" id="city-label">City:</label>
        <input type="text" id="city" name="city" required>

        <label for="state" id="state-label">State:</label>
        <input type="text" id="state" name="state" required>

        <label for="zip" id="zip-label">Zip Code:</label>
        <input type="text" id="zip" name="zip" required>

        <input type="hidden" id="seats-field" name="seats" value="">
        <input type="hidden" id="showingId-field" name="showingId" value="">

        <button type="submit" class="submit-order-button">Submit</button>
    </form>

</div>

 <datalist id="months">
    <option value="1">
    <option value="2">
    <option value="3">
    <option value="4">
    <option value="5">
    <option value="6">
    <option value="7">
    <option value="8">
    <option value="9">
    <option value="10">
    <option value="11">
    <option value="12">
 </datalist>

 <datalist id="years">
    <option value="25">
    <option value="26">
    <option value="27">
    <option value="28">
    <option value="29">
    <option value="30">
 </datalist>

<!-- Footer -->
<footer class="section footer">
    © 2025 FHSUMOVIETHEATER
</footer>

<!-- JS for Seat Selection -->
<script>
    const seats = document.querySelectorAll('.seat');
    const selectedSeatsDisplay = document.getElementById('selected-seats');
    let selectedSeats = [];

    seats.forEach(seat => {
        seat.addEventListener('click', () => {
            const seatNumber = seat.dataset.seat;
            if (selectedSeats.includes(seatNumber)) {
                selectedSeats = selectedSeats.filter(s => s !== seatNumber);
                seat.classList.remove('selected');
            } else {
                selectedSeats.push(seatNumber);
                seat.classList.add('selected');
            }
            selectedSeatsDisplay.textContent = selectedSeats.length > 0 ?
                `Selected Seats: ${selectedSeats.join(', ')}` : 'Selected Seats: None';
        });
    });

    document.getElementById('continue-btn').addEventListener('click', () => {
        if(selectedSeats.length === 0){
            alert("Please select at least one seat to continue.");
            return;
        }
        window.scrollTo({ top: document.getElementById('pay').offsetTop, behavior: 'smooth' });
    });

    // Include showingId with the form submission (so confirmation knows what to show)
    const params = new URLSearchParams(location.search);
    const showingId = params.get('showingId');
    document.getElementById('showingId-field').value = showingId || '';

    // Pass selected seats to payment form
    const paymentForm = document.getElementById('payment-form');
    const seatsField = document.getElementById('seats-field');
    paymentForm.addEventListener('submit', () => {
        seatsField.value = selectedSeats.join(', ');
    });
</script>

</body>
</html>